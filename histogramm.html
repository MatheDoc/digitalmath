<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Binomialverteilung – Einzel & Kumuliert</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="js/histogramm.js"></script>
</head>
<body>
  <h2>Binomialverteilung mit Intervallwahrscheinlichkeit</h2>

  <div>
    <label>n = <span id="nWert">10</span></label><br>
    <input type="range" id="nSlider" min="1" max="50" value="10"><br><br>

    <label>p = <span id="pWert">0.5</span></label><br>
    <input type="range" id="pSlider" min="0" max="1" value="0.5" step="0.01"><br><br>

    <label><input type="checkbox" id="autoY" checked> y-Achse automatisch skalieren</label><br><br>

    <label>Intervallgrenzen:</label>
    a = <input type="number" id="aGrenze" value="3" style="width:50px">
    b = <input type="number" id="bGrenze" value="7" style="width:50px"><br><br>

    <div><strong>Intervallwahrscheinlichkeit:</strong> <span id="intervallWert">P(3 ≤ X ≤ 7) = ...</span></div><br>
  </div>

  <div id="plotEinzeln" style="width:700px; height:400px;"></div>
  <div id="plotKumuliert" style="width:700px; height:400px;"></div>



<!-- ... -->

<!-- Am Ende des <body>: -->
<script>


  // Event-Handler für Inputs
function updateFromInputs() {
  const n = parseInt(document.getElementById('nSlider').value);
  const p = parseFloat(document.getElementById('pSlider').value);
  const a = parseInt(document.getElementById('aGrenze').value);
  const b = parseInt(document.getElementById('bGrenze').value);
  const autoY = document.getElementById('autoY').checked;

  document.getElementById("nWert").innerText = n;
  document.getElementById("pWert").innerText = p.toFixed(2);

  zeichneHistogrammEinzeln(n, p, a, b, 'plotEinzeln', 'Einzelwahrscheinlichkeiten', autoY);
  zeichneHistogrammKumuliert(n, p, a, b, 'plotKumuliert', 'Kumulierte Wahrscheinlichkeiten');
}

  // Inputs mit Handler verbinden
  document.getElementById("nSlider").addEventListener("input", updateFromInputs);
  document.getElementById("pSlider").addEventListener("input", updateFromInputs);
  document.getElementById("aGrenze").addEventListener("input", updateFromInputs);
  document.getElementById("bGrenze").addEventListener("input", updateFromInputs);
  document.getElementById("autoY").addEventListener("change", updateFromInputs);

  // Initiales Diagramm
  updateFromInputs();
</script>
</body>
</html>